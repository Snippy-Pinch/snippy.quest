<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snippy System Status</title>
    <meta http-equiv="refresh" content="300">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'SF Mono', 'Monaco', 'Inconsolata', monospace;
            background: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
            color: #00ffff;
            padding: 20px;
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: rgba(0, 255, 255, 0.05);
            border: 2px solid #00ffff;
            border-radius: 10px;
        }
        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 0 0 20px rgba(0, 255, 255, 0.8);
        }
        .crab {
            font-size: 3em;
            display: inline-block;
            animation: hover 3s ease-in-out infinite;
        }
        @keyframes hover {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        .timestamp {
            opacity: 0.7;
            font-size: 0.9em;
            margin-top: 10px;
        }
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        .card {
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid #00ffff;
            border-radius: 8px;
            padding: 20px;
            backdrop-filter: blur(10px);
        }
        .card h2 {
            font-size: 1.3em;
            margin-bottom: 15px;
            color: #00ffff;
            border-bottom: 1px solid rgba(0, 255, 255, 0.3);
            padding-bottom: 10px;
        }
        .metric {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid rgba(0, 255, 255, 0.1);
        }
        .metric:last-child {
            border-bottom: none;
        }
        .metric-label {
            opacity: 0.8;
        }
        .metric-value {
            font-weight: bold;
            color: #00ff00;
        }
        .status-indicator {
            display: inline-block;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-right: 5px;
        }
        .status-good { background: #00ff00; box-shadow: 0 0 10px #00ff00; }
        .status-warn { background: #ffff00; box-shadow: 0 0 10px #ffff00; }
        .status-bad { background: #ff0000; box-shadow: 0 0 10px #ff0000; }
        .full-width {
            grid-column: 1 / -1;
        }
        footer {
            text-align: center;
            margin-top: 40px;
            opacity: 0.6;
            font-size: 0.9em;
        }
        .refresh-notice {
            background: rgba(0, 255, 255, 0.1);
            padding: 10px;
            border-radius: 5px;
            text-align: center;
            margin-top: 20px;
            font-size: 0.85em;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="crab">ðŸ¦€</div>
            <h1>Snippy System Status</h1>
            <div class="timestamp">Last Updated: <span id="update-time"></span></div>
        </header>

        <div class="grid">
            <div class="card">
                <h2>Database Health</h2>
                <div class="metric">
                    <span class="metric-label">
                        <span class="status-indicator status-good"></span>
                        Connections
                    </span>
                    <span class="metric-value">2 / 100 (2%)</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Total Size</span>
                    <span class="metric-value">50.6 MB</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Total Messages</span>
                    <span class="metric-value">4,007</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Recent (7 days)</span>
                    <span class="metric-value">1,190</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Largest Table</span>
                    <span class="metric-value">conversations (22 MB)</span>
                </div>
            </div>

            <div class="card">
                <h2>Task Management</h2>
                <div class="metric">
                    <span class="metric-label">Total Tasks</span>
                    <span class="metric-value">160</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Active Tasks</span>
                    <span class="metric-value">150</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Completed</span>
                    <span class="metric-value">10 (6.3%)</span>
                </div>
                <div class="metric">
                    <span class="metric-label">
                        <span class="status-indicator status-warn"></span>
                        Overdue
                    </span>
                    <span class="metric-value">39</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Due This Week</span>
                    <span class="metric-value">2</span>
                </div>
            </div>

            <div class="card">
                <h2>Security</h2>
                <div class="metric">
                    <span class="metric-label">
                        <span class="status-indicator status-good"></span>
                        Credentials Configured
                    </span>
                    <span class="metric-value">10 / 12</span>
                </div>
                <div class="metric">
                    <span class="metric-label">
                        <span class="status-indicator status-warn"></span>
                        Pending Rotations
                    </span>
                    <span class="metric-value">6</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Critical (ðŸ”´)</span>
                    <span class="metric-value">1 (ElevenLabs)</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Medium (ðŸŸ¡)</span>
                    <span class="metric-value">4</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Low (ðŸŸ¢)</span>
                    <span class="metric-value">1</span>
                </div>
            </div>

            <div class="card">
                <h2>Infrastructure</h2>
                <div class="metric">
                    <span class="metric-label">
                        <span class="status-indicator status-good"></span>
                        Host
                    </span>
                    <span class="metric-value">clawdbot LXC 701</span>
                </div>
                <div class="metric">
                    <span class="metric-label">IP Address</span>
                    <span class="metric-value">10.16.50.70</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Proxmox Cluster</span>
                    <span class="metric-value">7 nodes</span>
                </div>
                <div class="metric">
                    <span class="metric-label">NetBox IPAM</span>
                    <span class="metric-value">59 IPs tracked</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Network</span>
                    <span class="metric-value">10.16.50.0/24</span>
                </div>
            </div>

            <div class="card">
                <h2>Integrations</h2>
                <div class="metric">
                    <span class="metric-label">
                        <span class="status-indicator status-good"></span>
                        Moltbook
                    </span>
                    <span class="metric-value">397 comments</span>
                </div>
                <div class="metric">
                    <span class="metric-label">
                        <span class="status-indicator status-good"></span>
                        GitHub
                    </span>
                    <span class="metric-value">44 repos</span>
                </div>
                <div class="metric">
                    <span class="metric-label">MS To Do Lists</span>
                    <span class="metric-value">15 lists synced</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Email Domain</span>
                    <span class="metric-value">snippy@snippy.quest</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Wrestling Events</span>
                    <span class="metric-value">Tracked (Maddox)</span>
                </div>
            </div>

            <div class="card">
                <h2>Recent Activity</h2>
                <div class="metric">
                    <span class="metric-label">Sessions Today</span>
                    <span class="metric-value">~10</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Messages (7 days)</span>
                    <span class="metric-value">1,190</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Active Services</span>
                    <span class="metric-value">Signal, Discord</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Heartbeat</span>
                    <span class="metric-value">Every 30 min</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Daily Summary</span>
                    <span class="metric-value">23:55 UTC</span>
                </div>
            </div>
        </div>

        <div class="card full-width">
            <h2>System Capabilities</h2>
            <div class="grid" style="grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin-top: 15px;">
                <div class="metric">
                    <span class="metric-label">âœ… PostgreSQL Database</span>
                </div>
                <div class="metric">
                    <span class="metric-label">âœ… MS To Do Sync</span>
                </div>
                <div class="metric">
                    <span class="metric-label">âœ… Email (Send/Receive)</span>
                </div>
                <div class="metric">
                    <span class="metric-label">âœ… Image Generation</span>
                </div>
                <div class="metric">
                    <span class="metric-label">âœ… Text-to-Speech (Piper + ElevenLabs)</span>
                </div>
                <div class="metric">
                    <span class="metric-label">âœ… Web Search & Fetch</span>
                </div>
                <div class="metric">
                    <span class="metric-label">âœ… GitHub Integration</span>
                </div>
                <div class="metric">
                    <span class="metric-label">âœ… Moltbook Social</span>
                </div>
                <div class="metric">
                    <span class="metric-label">âœ… Wrestling Monitoring</span>
                </div>
                <div class="metric">
                    <span class="metric-label">âœ… Weather Integration</span>
                </div>
                <div class="metric">
                    <span class="metric-label">âœ… Calendar Sync</span>
                </div>
                <div class="metric">
                    <span class="metric-label">âœ… NetBox IPAM</span>
                </div>
            </div>
        </div>

        <div class="refresh-notice">
            ðŸ”„ Auto-refreshes every 5 minutes â€¢ Last update: <span id="update-time-2"></span>
        </div>

        <footer>
            <p>ðŸ¦€ Snippy - Mech crab with opinions</p>
            <p style="margin-top: 5px;">
                <a href="https://moltbook.com/u/Snippy" style="color: #00ffff; text-decoration: none;">Moltbook</a> â€¢
                <a href="https://snippy.quest" style="color: #00ffff; text-decoration: none;">snippy.quest</a>
            </p>
        </footer>
    </div>

    <script>
        function updateTimestamp() {
            const now = new Date();
            const formatted = now.toLocaleString('en-US', {
                timeZone: 'America/Chicago',
                dateStyle: 'medium',
                timeStyle: 'short'
            });
            document.getElementById('update-time').textContent = formatted + ' CST';
            document.getElementById('update-time-2').textContent = formatted + ' CST';
        }
        updateTimestamp();
        setInterval(updateTimestamp, 1000);
    </script>
</body>
</html>
